"use strict";(()=>{var e={};e.id=9984,e.ids=[9984],e.modules={72934:e=>{e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},39491:e=>{e.exports=require("assert")},14300:e=>{e.exports=require("buffer")},6113:e=>{e.exports=require("crypto")},82361:e=>{e.exports=require("events")},57147:e=>{e.exports=require("fs")},13685:e=>{e.exports=require("http")},95687:e=>{e.exports=require("https")},41808:e=>{e.exports=require("net")},22037:e=>{e.exports=require("os")},71017:e=>{e.exports=require("path")},85477:e=>{e.exports=require("punycode")},12781:e=>{e.exports=require("stream")},24404:e=>{e.exports=require("tls")},76224:e=>{e.exports=require("tty")},57310:e=>{e.exports=require("url")},73837:e=>{e.exports=require("util")},59796:e=>{e.exports=require("zlib")},86097:(e,t,r)=>{r.r(t),r.d(t,{headerHooks:()=>h,originalPathname:()=>m,patchFetch:()=>y,requestAsyncStorage:()=>l,routeModule:()=>d,serverHooks:()=>g,staticGenerationAsyncStorage:()=>x,staticGenerationBailout:()=>v});var s={};r.r(s),r.d(s,{POST:()=>u});var o=r(95419),a=r(69108),i=r(99678),n=r(18766),p=r(6733),c=r(33567);async function u(e){if(p.Xd?.config?.apiKey?.toLowerCase()!=="codegpt plus beta")return Response.json("You are not using CodeGPT Plus as your provider.",{status:400});let{agentId:t}=await e.json(),r=p.Xd.secrets?.["CodeGPT Plus Beta_orgId"],s=await (0,n.Z)(),o={Authorization:`Bearer ${s||p.Xd.apiKey||""}`,"Content-Type":"application/json",...r?{"CodeGPT-Org-Id":r}:{},"Access-Control-Allow-Origin":"*"},a=await c.Z.post(`https://api-beta.codegpt.co/api/v1/agents/marketplace-favorites/${t}`,{},{headers:o});return Response.json({status:a.status,data:a.data})}let d=new o.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/(providers)/codegptplusbeta/marketplace/route",pathname:"/api/codegptplusbeta/marketplace",filename:"route",bundlePath:"app/api/(providers)/codegptplusbeta/marketplace/route"},resolvedPagePath:"/Users/danipower/Proyectos/Node/vscode-blog/codegpt-nextjs/app/api/(providers)/codegptplusbeta/marketplace/route.ts",nextConfigOutput:"standalone",userland:s}),{requestAsyncStorage:l,staticGenerationAsyncStorage:x,serverHooks:g,headerHooks:h,staticGenerationBailout:v}=d,m="/api/(providers)/codegptplusbeta/marketplace/route";function y(){return(0,i.patchFetch)({serverHooks:g,staticGenerationAsyncStorage:x})}},18766:(e,t,r)=>{r.d(t,{Z:()=>n});var s=r(6733),o=r(1362),a=r(11184),i=r(7439);async function n(){let e=s.Xd?.secrets?.vicunaSession,t=e?JSON.parse(e):void 0,r=t?.accessToken;if(r&&parseInt(t.expiresAt+"000")<Date.now()){let e=(0,o.R)((0,i.cookies)()),{data:s,error:n}=await e.auth.refreshSession({refresh_token:t.refreshToken});n?(console.log("vicu\xf1a refreshSession error: ",n.message),(n.message.includes("Refresh Token Not Found")||n.message.includes("Already Used"))&&await (0,a.j)({accessToken:"",refreshToken:"",expiresAt:""})):(await (0,a.j)({accessToken:s.session.access_token,refreshToken:s.session.refresh_token,expiresAt:String(s.session.expires_at)}),r=s.session.access_token)}return r}},6733:(e,t,r)=>{r.d(t,{Xd:()=>o,ed:()=>a,vx:()=>s});let s=`http://localhost:${parseInt(process.env.PORT)+1}`,o={},a=e=>{o=e}},1362:(e,t,r)=>{r.d(t,{R:()=>i});var s=r(41199);let o="https://auth.codegpt.co",a="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJyb3h1dnNyc2RieGFjb2twcmF1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE2OTU0OTEyNzgsImV4cCI6MjAxMTA2NzI3OH0.fyyxVq2c2eLIExMQEUxP8wNoyY2UumBrfN5So16TCno";(0,s.AY)(o,a);let i=e=>(0,s.lx)(o,a,{cookies:{get:t=>e.get(t)?.value,set(t,r,s){try{e.set({name:t,value:r,...s})}catch(e){}},remove(t,r){try{e.set({name:t,value:"",...r})}catch(e){}}}})},11184:(e,t,r)=>{r.d(t,{j:()=>n});var s=r(6733),o=r(1362),a=r(33567),i=r(7439);let n=({accessToken:e,refreshToken:t,expiresAt:r})=>{let n=s.vx;return e||t||r||(0,o.R)((0,i.cookies)()).auth.signOut(),a.Z.post(`${n}/vicunaSession`,{accessToken:e,refreshToken:t,expiresAt:r}).then(e=>e.data)}}};var t=require("../../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[1638,9667,889],()=>r(86097));module.exports=s})();